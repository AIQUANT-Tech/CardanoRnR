## Configuration

1. Technical design document: https://github.com/AIQUANT-Tech/CardanoRnR/blob/main/DesignDocs/CardanoRnR_TechDesign.pdf
2. UI Design Document: https://www.figma.com/design/FACv8nNkArAruZd9gsdvpR/RnR?node-id=18-320&t=3BpMSOHQf3Sv40fG-1
3. Used API Document: https://github.com/AIQUANT-Tech/CardanoRnR/tree/main/server/Published_API_Design_Doc
4. CardanoRnR Test Report for Smart Contract TestScenario : https://github.com/AIQUANT-Tech/CardanoRnR/tree/main/TestReport/RnRSmartContractTestScenario
5. CardanoRnR Test Cases Report for Overall : https://github.com/AIQUANT-Tech/CardanoRnR/tree/main/TestReport/TestCaseReportCardanoRnR

6. Deployment URLs
   Business User
   The deployment URL for Business users is designed to provide access to all business-related functionalities and features. You can access it here:

     http://51.21.61.199/     

   End User
   The deployment URL for End users is tailored to offer a seamless experience for our end customers. You can access it here:

     http://51.21.61.199/user/X 

## Installation

### 1. Clone the Repository

git clone https://github.com/AIQUANT-Tech/CardanoRnR.git

### 2. Setup the Backend

Change directory to the backend folder and install dependencies:

cd CardanoRnR/server

npm install

#### Configure the Environment Variables

Inside the `server` folder, create a `.env` file and add your configuration details. Example:

PORT=3000

DB_CNN="your-database-connection-string"

SCRIPT_CBOR="5909a65909a3010000323232323322323232323232323232332232323232323223232323232323232232232325335323253350021001102232323232533553355335333573466e24d4010888888801520000250261333573466e24d40108888888015200a026025102510261335738920127496e76616c696420726174696e673a206d757374206265206265747765656e203120616e642035000251533553353500422222220062153355335333573466e3c005220100027026102610271027133573892114496e76616c6964207265666572656e636520494400026102615335333573466e24d4d40108888888ccccccc06c01c01801401140294024c8c8cdc199b80337049032299a999ab9a337120029000017017899b83002001148000cdc1240c866e0c00520c801483200540294028888888800520000250261026133573892011c52657075746174696f6e2073636f7265206d757374206265203e203000025102510253333573466e1cd55cea80324000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd408c090d5d0a80619a8118121aba1500b33502302535742a014666aa04eeb94098d5d0a804999aa813bae502635742a01066a04605c6ae85401cccd5409c0bdd69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40e5d69aba15002303a357426ae8940088c98c80f8cd5ce01f81f01e09aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a81cbad35742a00460746ae84d5d1280111931901f19ab9c03f03e03c135573ca00226ea8004d5d09aba2500223263203a33573807607407026aae7940044dd50009aba1500533502375c6ae854010ccd5409c0ac8004d5d0a801999aa813bae200135742a004605a6ae84d5d1280111931901b19ab9c037036034135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00c603a6ae84d5d1280311931901419ab9c0290280261337006a00444444440049001099b8035001222222200335001222222200550073232333573466e3c00800408c088c8d40048004cccd5cd19b8735573aa00a90001190918008011bae357426aae7940188c98c8094cd5ce013012811991a8009111111003a803081189931901199ab9c4911156616c69646174696f6e206661696c656400023135573ca00226ea80044dd500089999ab9a3370e6aae75401d20002333333300a375c6ae85401ccd4049d71aba15006375a6ae854014dd69aba15004375a6ae85400cdd69aba15002375a6ae84d5d1280111931900f19ab9c01f01e01c135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd500091111110919999998008040038030028020018010919118011bac001320013550162233335573e0024a014466a01260086ae84008c00cd5d100100b119191999ab9a3370e6aae7540092000233221233001003002300c35742a004600a6ae84d5d1280111931900b19ab9c017016014135573ca00226ea80048c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002301535742a00466a01e0286ae84d5d1280111931900d99ab9c01c01b019135573ca00226ea8004d5d0a802199aa8043ae500735742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c8074cd5ce00f00e80d80d00c89aab9d5001137540026ae854008cd402dd71aba135744a004464c6402e66ae7006005c0544d5d1280089aba25001135573ca00226ea80044cd54005d73ad112232230023756002640026aa02644646666aae7c008940208cd401ccc8848cc00400c008c018d55cea80118029aab9e500230043574400602826ae840044488008488488cc00401000c488c8c8cccd5cd19b875001480008c8488c00800cc014d5d09aab9e500323333573466e1d40092002212200123263201233573802602402001e26aae7540044dd5000919191999ab9a3370ea002900311909111180200298039aba135573ca00646666ae68cdc3a8012400846424444600400a60126ae84d55cf280211999ab9a3370ea006900111909111180080298039aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263201233573802602402001e01c01a26aae7540044dd5000919191999ab9a3370e6aae7540092000233221233001003002300535742a0046eb4d5d09aba2500223263200e33573801e01c01826aae7940044dd50009191999ab9a3370e6aae75400520002375c6ae84d55cf280111931900619ab9c00d00c00a13754002464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a900211991091111111980300480418061aba15009375c6ae84d5d1280491999ab9a3370ea00c900111909111111180380418069aba135573ca01646666ae68cdc3a803a400046424444444600a010601c6ae84d55cf280611931900a99ab9c01601501301201101000f00e00d135573aa00826aae79400c4d55cf280109aab9e5001137540024646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033008357426aae7940188c98c8038cd5ce00780700600589aab9d5003135744a00226aae7940044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6401666ae7003002c0240204d55cea80089baa00112232323333573466e1d400520042122200123333573466e1d40092002232122230030043006357426aae7940108cccd5cd19b87500348000848880088c98c8030cd5ce00680600500480409aab9d5001137540024646666ae68cdc3a800a4004400a46666ae68cdc3a80124000400a464c6401066ae700240200180144d55ce9baa0011220021220014984800524010350543100112323001001223300330020020011" **//Hardcoded**

AMMOUNT_ADA=850000  //calculated Minimum fees for this Transaction in lovelace  **Hardcoded**

AMMOUNT=0.85  //calculated Minimum fees for this Transaction in ada   **Hardcoded**

MNEMONIC="your-mnemonic-phrase"

BLOCKFROST_KEY="your-blockfrost-key"

PLUTUS_SCRIPT_PATH="/home/aiquant/Desktop/git/CardanoRnR/CardanoRnR/SmartContract/Review/ReviewContractV2.plutus" **//Hardcoded**

REDIS_HOST=localhost

REDIS_PORT=6379

REDIS_MAX_RETRIES_PER_REQUEST=null

_Note: Replace the placeholder values with your own details._

##How to Configure?

**DB_CNN --**

DB_CNN --
 
a. Install MongoDB and MongoDB Compass
 
b. Start MongoDB Server
 
c. Connect to MongoDB Shell
 
d. Create Database DB_CNN
 
e. Create a Collection
 
f. Connect MongoDB Remotely
 
g. The Database DB_CNN provide it in the place of "your-database-connection-string" in DB_CNN (ex. "mongodb+srv://<projectId>:<password>@rnrdb.allz7.mongodb.net/?retryWrites=true&w=majority&appName=RnRDb")

**MNEMONIC --**

Choose a Cardano Wallet

a. Install the Wallet

b. Launch the Wallet & Create a New Wallet or Import an existing wallet

c. Automatic Seed Phrase Generation(12 words or 24 words)

d. Record and Store Your Seed Phrase (Including Storing in a Text File)

e. Confirm Your Seed Phrase

f. Finalize Wallet Setup

g. Give the Seed Phrase provide it in the place of "your-mnemonic-phrase" in the MNEMONIC(ex. "slight magnet cage frost puzzle moon ripple undo toilet orphan crash heavy slight magnet cage frost puzzle moon ripple undo toilet orphan crash heavy")

**BLOCKFROST_KEY --**

a. Visit the Blockfrost Website

b. Register for an Account

c. Verify Your Email

d. Log In to Your Account

e. Create a New Project

f. Retrieve Your API Key

g. Securely Store Your API Key

h. Your API Key be provide it in the place of the "your-blockfrost-key" in BLOCKFROST_KEY(ex. "preprod1234567890abcdef1234567890abcdef")

**## The Full Example of the .env File**

PORT=3000

DB_CNN="mongodb+srv://user:password@cluster0.mongodb.net/mydatabase?retryWrites=true&w=majority"

SCRIPT_CBOR="5909a65909a3010000323232323322323232323232323232332232323232323223232323232323232232232325335323253350021001102232323232533553355335333573466e24d4010888888801520000250261333573466e24d40108888888015200a026025102510261335738920127496e76616c696420726174696e673a206d757374206265206265747765656e203120616e642035000251533553353500422222220062153355335333573466e3c005220100027026102610271027133573892114496e76616c6964207265666572656e636520494400026102615335333573466e24d4d40108888888ccccccc06c01c01801401140294024c8c8cdc199b80337049032299a999ab9a337120029000017017899b83002001148000cdc1240c866e0c00520c801483200540294028888888800520000250261026133573892011c52657075746174696f6e2073636f7265206d757374206265203e203000025102510253333573466e1cd55cea80324000466442466002006004646464646464646464646464646666ae68cdc39aab9d500c480008cccccccccccc88888888888848cccccccccccc00403403002c02802402001c01801401000c008cd408c090d5d0a80619a8118121aba1500b33502302535742a014666aa04eeb94098d5d0a804999aa813bae502635742a01066a04605c6ae85401cccd5409c0bdd69aba150063232323333573466e1cd55cea801240004664424660020060046464646666ae68cdc39aab9d5002480008cc8848cc00400c008cd40e5d69aba15002303a357426ae8940088c98c80f8cd5ce01f81f01e09aab9e5001137540026ae854008c8c8c8cccd5cd19b8735573aa004900011991091980080180119a81cbad35742a00460746ae84d5d1280111931901f19ab9c03f03e03c135573ca00226ea8004d5d09aba2500223263203a33573807607407026aae7940044dd50009aba1500533502375c6ae854010ccd5409c0ac8004d5d0a801999aa813bae200135742a004605a6ae84d5d1280111931901b19ab9c037036034135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d5d1280089aba25001135744a00226ae8940044d55cf280089baa00135742a00c603a6ae84d5d1280311931901419ab9c0290280261337006a00444444440049001099b8035001222222200335001222222200550073232333573466e3c00800408c088c8d40048004cccd5cd19b8735573aa00a90001190918008011bae357426aae7940188c98c8094cd5ce013012811991a8009111111003a803081189931901199ab9c4911156616c69646174696f6e206661696c656400023135573ca00226ea80044dd500089999ab9a3370e6aae75401d20002333333300a375c6ae85401ccd4049d71aba15006375a6ae854014dd69aba15004375a6ae85400cdd69aba15002375a6ae84d5d1280111931900f19ab9c01f01e01c135744a00226ae8940044d5d1280089aba25001135744a00226aae7940044dd500091111110919999998008040038030028020018010919118011bac001320013550162233335573e0024a014466a01260086ae84008c00cd5d100100b119191999ab9a3370e6aae7540092000233221233001003002300c35742a004600a6ae84d5d1280111931900b19ab9c017016014135573ca00226ea80048c8c8c8c8cccd5cd19b8735573aa00890001199991110919998008028020018011919191999ab9a3370e6aae7540092000233221233001003002301535742a00466a01e0286ae84d5d1280111931900d99ab9c01c01b019135573ca00226ea8004d5d0a802199aa8043ae500735742a0066464646666ae68cdc3a800a4008464244460040086ae84d55cf280191999ab9a3370ea0049001119091118008021bae357426aae7940108cccd5cd19b875003480008488800c8c98c8074cd5ce00f00e80d80d00c89aab9d5001137540026ae854008cd402dd71aba135744a004464c6402e66ae7006005c0544d5d1280089aba25001135573ca00226ea80044cd54005d73ad112232230023756002640026aa02644646666aae7c008940208cd401ccc8848cc00400c008c018d55cea80118029aab9e500230043574400602826ae840044488008488488cc00401000c488c8c8cccd5cd19b875001480008c8488c00800cc014d5d09aab9e500323333573466e1d40092002212200123263201233573802602402001e26aae7540044dd5000919191999ab9a3370ea002900311909111180200298039aba135573ca00646666ae68cdc3a8012400846424444600400a60126ae84d55cf280211999ab9a3370ea006900111909111180080298039aba135573ca00a46666ae68cdc3a8022400046424444600600a6eb8d5d09aab9e500623263201233573802602402001e01c01a26aae7540044dd5000919191999ab9a3370e6aae7540092000233221233001003002300535742a0046eb4d5d09aba2500223263200e33573801e01c01826aae7940044dd50009191999ab9a3370e6aae75400520002375c6ae84d55cf280111931900619ab9c00d00c00a13754002464646464646666ae68cdc3a800a401842444444400646666ae68cdc3a8012401442444444400846666ae68cdc3a801a40104664424444444660020120106eb8d5d0a8029bad357426ae8940148cccd5cd19b875004480188cc8848888888cc008024020dd71aba15007375c6ae84d5d1280391999ab9a3370ea00a900211991091111111980300480418061aba15009375c6ae84d5d1280491999ab9a3370ea00c900111909111111180380418069aba135573ca01646666ae68cdc3a803a400046424444444600a010601c6ae84d55cf280611931900a99ab9c01601501301201101000f00e00d135573aa00826aae79400c4d55cf280109aab9e5001137540024646464646666ae68cdc3a800a4004466644424466600200a0080066eb4d5d0a8021bad35742a0066eb4d5d09aba2500323333573466e1d4009200023212230020033008357426aae7940188c98c8038cd5ce00780700600589aab9d5003135744a00226aae7940044dd5000919191999ab9a3370ea002900111909118008019bae357426aae79400c8cccd5cd19b875002480008c8488c00800cdd71aba135573ca008464c6401666ae7003002c0240204d55cea80089baa00112232323333573466e1d400520042122200123333573466e1d40092002232122230030043006357426aae7940108cccd5cd19b87500348000848880088c98c8030cd5ce00680600500480409aab9d5001137540024646666ae68cdc3a800a4004400a46666ae68cdc3a80124000400a464c6401066ae700240200180144d55ce9baa0011220021220014984800524010350543100112323001001223300330020020011" **//Hardcoded**

AMMOUNT_ADA=850000  ///calculated Minimum fees for this Transaction in lovelace  **Hardcoded**

AMMOUNT=0.85  //calculated Minimum fees for this Transaction in ada   **Hardcoded**

MNEMONIC="slight magnet cage frost puzzle moon ripple undo toilet orphan crash heavy slight magnet cage frost puzzle moon ripple undo toilet orphan crash heavy"

BLOCKFROST_KEY="preprod1234567890abcdef1234567890abcdef"  

PLUTUS_SCRIPT_PATH="SmartContract/Review/RnR.plutus"  **//Hardcoded**

REDIS_HOST=127.0.0.1

REDIS_PORT=6379

REDIS_MAX_RETRIES_PER_REQUEST=null

### 3. Setup the Frontend

Change directory to the frontend folder and install dependencies:

cd ../front-end-ui

npm install

#### Configure the API Base URL

Inside `front-end-ui/src`, open `config.js` and set your API base URL:

const API_BASE_URL = "http://localhost:8080/"; // change if needed

export default API_BASE_URL;

## Running the Application

### Start the Backend

App is starting From - app.js

From the `server` directory, run:

npm start

### Start the Frontend

From the `front-end-ui` directory, run:

npm start

## Additional Notes

- Ensure the environment variables in the `.env` file are set up correctly.

## Smart Contract

This repository includes a Plutus smart contract (e.g., in the file `Review/RnR.hs`). To generate the CBOR hex file of the smart contract, follow these steps:

1. **Navigate to the Smart Contract Directory**

   Go to the directory containing your smart contract file. For example:

   cd path/to/smart-contract-directory

2. **Clean, Update, Build, and Open the REPL**

   Run the following commands in your terminal:

   cabal clean   //Removes previous build artifacts to ensure a clean slate and avoid conflicts.
   
   cabal update  //Refreshes the local package repository index so that dependencies are up-to-date.

   cabal build  //Compiles the smart contract code into an executable form.

   cabal repl   //Launches an interactive environment for testing your smart contract functions.


4. **Generate the CBOR Hex File**

   Once inside the cabal repl, run the command:

   writeScript  //Generate the .plutus file of the smart contract, which is the CBOR hex of the smart contract.

   This will generate a file named `Review/RnR.plutus` containing the CBOR hex representation of your compiled Plutus script.

## Smart Contract Test

1. **Unit test cases**
This repository includes a unit test for Plutus smart contract (e.g., in the file `SmartContract/Test/RnRTest.hs`). To run the test file of the smart contract, follow these steps:

   **a. Navigate to the Smart Contract Directory**

   Go to the directory containing your smart contract file. For example:

   cd path/to/smart-contract-directory

   **b. Clean, Update, Build, and Open the REPL**

   Run the following commands in your terminal:

   cabal clean   //Removes previous build artifacts to ensure a clean slate and avoid conflicts.
   
   cabal update  //Refreshes the local package repository index so that dependencies are up-to-date.

   cabal build  //Compiles the smart contract code into an executable form.

   cabal repl   //Launches an interactive environment for testing your smart contract functions.
   
   **c. Run the test file**
   
   In "Review.RnrTest>" write main function.
   

**_Note: Ensure that you have all the necessary dependencies and proper Cabal configuration before running these commands._**
